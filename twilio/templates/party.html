<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
    <h1 style="text-align: center; margin-top: 5px;">{{ room }}</h1><br>

    <form>
        <div id="joining_details" style="display: flex; justify-content: center;">
            <input type="text" class="form-control-lg" name="username" id="username" placeholder="Enter Username"
                style="margin: 2px">
            <button id="join_leave" class="btn btn-warning">Join Call</button>
        </div>
        <div class="start_party">
            <button onclick="NewTab()" class="btn btn-warning mx-1">Open Myntra</button>
            <button id="share_screen" class="btn btn-warning mx-1" disabled>Share screen</button>
            <button id="toggle_chat" class="btn btn-warning mx-1" disabled style="display: none;">Toggle chat</button>
            <button id="toggle_mode" class="btn btn-warning mx-1" disabled>Toggle mode</button>
            <button id="mute_me" class="btn btn-warning mx-2 mx-1" disabled>Mute</button>
        </div>

    </form>
    <div style="display: flex; justify-content: center; margin-top: 5px;">
        <h5 id="count">Disconnected.</h5>
    </div>
    <div class="start_party">
        <div id="root">
            <div id="container" class="realtime container">
                <div id="local" class="participant">
                    <div></div>
                    <div class="label">Me</div>
                </div>
                <!-- more participants will be added dynamically here -->
            </div>
            <div id="chat">
                <div id="chat-scroll">
                    <div id="chat-content">
                        <!-- chat content will be added dynamically here -->
                    </div>
                </div>
                <input id="chat-input" type="text">
            </div>
        </div>
        <div id="poll_here" style="display: none;">
            <form id="submit_url">
                <label for="polling">Enter URL: </label>
                <input type="text" name="polling" id="polling" required>
                <input type="submit" id="start_poll" value="Start Poll" />
            </form>

            <div id="polling_url"></div>
            <form action="/poll" id="choices" style="display: none;">
                {% for e in data.fields %}
                <input type="submit" name="field" value="{{ e }}">
                {% endfor %}
                <!-- <input type="submit" value="Vote" /> -->
            </form>
            <button id="end_poll" style="display: none;">End Poll</button>
        </div>
    </div>

    <script src="../static/js/jquery-3.5.1.min.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <script src="https://media.twiliocdn.com/sdk/js/video/releases/2.3.0/twilio-video.min.js"></script>
    <script src="https://media.twiliocdn.com/sdk/js/conversations/releases/1.0.0/twilio-conversations.min.js"></script>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
    <script>
        function NewTab() {
            event.preventDefault();
            window.open(
                "https://www.myntra.com", "_blank");
        }
    </script>

</body>

</html>